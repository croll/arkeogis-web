<div class="database-sheet">
<md-content layout-padding>
<h1>{{database.name}}</h1>
</md-content>
<md-content layout-padding layout style="margin-top: -20px; padding-top: 0; padding-bottom: 0">
    <section flex="50" style="padding-bottom: 0">
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_IMPORT_INITIATOR</span>:</div>
            <div>{{database.owner_name}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_AUTHOR_AND_CO_AUTHORS</span>:</div>
            <div>{{database.author_and_co_authors}}</div>
            <span ng-repeat="a in database.authors">
                <span>{{a.firstname}} {{a.lastname}}</span>
                <span ng-if="!$last"> - </span>
            </span>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_SUBJECT_AND_KEYWORDS</span>:</div>
            <div>{{database.subject}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_TYPE</span>:</div>
            <div>{{databaseDefinitions[database.type]}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_NUMBER_OF_LINES</span>:</div>
            <div>{{database.imports[0].number_of_lines}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_NUMBER_OF_SITES</span>:</div>
            <div>{{database.number_of_sites}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_GEOGRAPHICAL_EXTENT</span>:</div>
            <div>{{databaseDefinitions[database.geographical_extent]}}</div>
        </div>
        <div layout="row" ng-show="database.countries">
            <div><span translate>DATABASE.INFORMATIONS.T_COUNTRIES</span>:</div>
            <span ng-repeat="c in database.countries">
                <span>{{c}}</span>
                <span ng-if="!$last"> - </span>
            </span>
        </div>
        <div layout="row" ng-show="database.continents">
            <div><span translate>DATABASE.INFORMATIONS.T_CONTINENTS</span>:</div>
            <span ng-repeat="c in database.continents">
                <span>{{c}}</span>
                <span ng-if="!$last"> - </span>
            </span>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_STARTING_PERIOD</span>:</div>
            <div>{{database.start_date | arkYear}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_ENDING_PERIOD</span>:</div>
            <div>{{database.end_date | arkYear}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_CREATION_DATE</span>:</div>
            <div>{{database.created_at | date:'short'}}</div>
        </div>
        <div layout="row" ng-show="database.created_at != database.updated_at">
            <div><span translate>DATABASE.INFORMATIONS.T_MODIFICATION_DATE</span>:</div>
            <div>{{database.updated_at | date:'short'}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_PUBLICATION_STATUS</span>:</div>
            <div ng-show="database.published"><span translate>DATABASE.INFORMATIONS.T_PUBLISHED</span></div>
            <div ng-hide="database.published"><span translate>DATABASE.INFORMATIONS.T_UNPUBLISHED</span></div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_STATUS</span>:</div>
            <div>{{databaseDefinitions[database.state]}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_CONTEXT</span>:</div>
            <span ng-repeat="c in database.contexts">
                <span>{{databaseInfos[c.context]}}</span>
                <span ng-if="!$last"> - </span>
            </span>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_LICENSE</span>:</div>
            <div>{{database.license}}</div>
        </div>
        <div layout="row">
            <div><span translate>DATABASE.INFORMATIONS.T_IMPORTED_CSV</span>:</div>
            <div><a aria-label="{{'DATABASE.INFORMATIONS.T_IMPORTED_CSV' | translate}}" ng-click="downloadCSV()">{{database.import[0].filename}}</a></div>
        </div>
    </section>
    <section flex="50" style="padding-bottom: 0">
        <leaflet lf-center="center" layers="layers" geojson="geojson" height="400px"></leaflet>
    </section>
</md-content>
<md-content>
    <section layout-padding style="margin-top: -15px">
    <div layout="row">
        <div><span translate>DATABASE.INFORMATIONS.T_DESCRIPTION</span>:</div>
        <div ark-get-translation ark-translations="database.description"</div>
    </div>
</section>
</md-content>
<md-content layout="row" layout-padding layout-align="center center" style="padding-top: 50px; padding-bottom: 20px">
        <md-button class="md-primary md-raised" ui-sref="arkeogis.import.step1({database_id: database.id})"><span translate>DATABASE.FORM.T_EDIT</span></md-button>
        <md-button class="md-raised md-hue-1" ng-click="downloadExport()"><span translate>DATABASE.FORM.T_DOWNLOAD</span></md-button>
        <md-button class="md-raised md-warn" ng-click="delete()"><span translate>DATABASE.FORM.T_DELETE</span></md-button>
</md-content
</div>
